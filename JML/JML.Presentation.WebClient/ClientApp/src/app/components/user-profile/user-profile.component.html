<div class="row" *ngIf="profile; else loading">
  <div class="col-3">
    <mat-card>
      <img mat-card-image src="https://sun9-28.userapi.com/c844521/v844521692/86e0a/9uF-Cdfd5GA.jpg" alt="Photo of a Shiba Inu">
    </mat-card>
    <button mat-raised-button color="warn" class="mt-1">Заблокировать</button>
    <button mat-raised-button color="primary" class="mt-1">Добавить роль ученика</button>
    <button mat-raised-button color="primary" class="mt-1">Добавить роль учитетеля</button>
  </div>
  <div class="col-5">
    <h3>{{profile.fullName}}</h3>
    <h6 *ngIf="profile.groupName">Состоит в классе: {{profile.groupName}}</h6>
    <h5>Роли:</h5>
    <ul>
      <li *ngFor="let role of profile.roles">{{role}}</li>
    </ul>
    <mat-accordion *ngIf="profile.tests && profile.tests.length > 0">
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title class="flex-grow-1">Завершенные тесты:</mat-panel-title>
          <mat-panel-description class="flex-grow-0">Кол-во: {{profile.tests.length}}</mat-panel-description>
        </mat-expansion-panel-header>
        <mat-list role="list">
          <mat-list-item role="listitem" *ngFor="let test of profile.tests">
            <a class="app-color" [routerLink]="['/tests', 'all']">{{test}}</a>
          </mat-list-item>
        </mat-list>
      </mat-expansion-panel>
    </mat-accordion>
  </div>
  <div class="col-4">
    <mat-card>
      <mat-card-header>
        <mat-card-title>Дополнительная информация</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <mat-list role="list">
          <mat-list-item role="listitem">Дата регистрации: {{profile.createdAt | date:'dd.MM.yyyy'}}</mat-list-item>
          <mat-list-item role="listitem" *ngIf="profile.activeAt">
            Последняя активность:  {{profile.activeAt | date:'dd.MM.yyyy'}}
          </mat-list-item>
          <mat-list-item role="listitem">Пользователь {{profile.isLocked ? '' : 'не'}} заблокирован</mat-list-item>
        </mat-list>
      </mat-card-content>
    </mat-card>
  </div>
</div>

<ng-template #loading>
  <app-loader></app-loader>
</ng-template>
